<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{TITLE}} - POM</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <canvas id="plantCanvas"></canvas>
    <!-- POM Border -->
    <div class="inner-border"></div>
    <div class="pom-border-top">
        <div>
            <!-- Spans will be generated by script.js -->
        </div>
    </div>
    <div class="pom-border-bottom">
        <div>
            <!-- Spans will be generated by script.js -->
        </div>
    </div>
    
    <div class="container">
        <!-- Header -->
        <div class="square-images-wrapper">
            <a href="/" class="large-letters loading-element" id="pom-letters">
                <div class="letter">P</div>
                <div class="letter">O</div>
                <div class="letter">M</div>
                <div class="name-reveal">Peter O'Malley</div>
            </a>

            <!-- Navigation -->
            <div class="section-toggle loading-element">
                <a href="/" class="toggle-btn">About</a>
                <span class="toggle-separator">|</span>
                <a href="/posts" class="toggle-btn active">Posts</a>
            </div>
        </div>

        <!-- Post Content -->
        <div id="posts-post-section" class="content-section">
            <!-- Post Content -->
            <article class="posts-post loading-element">
                <header class="post-header">
                    <h1 class="post-title">{{TITLE}}</h1>
                    <p class="post-date">{{DATE}}</p>
                </header>
                
                <div class="post-content">
                    {{CONTENT}}
                </div>
                
                <!-- Post Navigation -->
                <nav class="post-navigation">
                    {{PREV_NAV}}
                    {{NEXT_NAV}}
                </nav>
            </article>
        </div>

    </div>

    <!-- Scripts -->
    <script src="../script.js"></script>
    <script src="../plant-animation.js"></script>
    <script>
        // Initialize Feather icons
        feather.replace();
        
        // Mobile video fix - ensure videos are properly configured
        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('.post-content video');
            videos.forEach(video => {
                // Force video attributes for mobile compatibility
                video.setAttribute('playsinline', 'true');
                video.setAttribute('preload', 'metadata');
                video.setAttribute('controls', 'true');
                
                // Ensure video is visible
                video.style.display = 'block';
                video.style.width = '100%';
                video.style.height = 'auto';
                video.style.opacity = '1';
                video.style.visibility = 'visible';
                
                // Remove any problematic attributes
                video.removeAttribute('autoplay');
                
                // Force load the video
                video.load();
                
                console.log('Video configured:', video.src || video.querySelector('source')?.src);
            });
        });
    </script>
</body>
</html>
